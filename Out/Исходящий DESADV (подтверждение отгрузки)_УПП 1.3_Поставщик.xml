<ValueTree xmlns="http://v8.1c.ru/8.1/data/core" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="ValueTree">
	<column>
		<Name xsi:type="xs:string">Использовать</Name>
		<ValueType/>
	</column>
	<column>
		<Name xsi:type="xs:string">ТипТранзакции</Name>
		<ValueType/>
	</column>
	<column>
		<Name xsi:type="xs:string">Кнопка</Name>
		<ValueType/>
	</column>
	<column>
		<Name xsi:type="xs:string">Источник</Name>
		<ValueType/>
	</column>
	<column>
		<Name xsi:type="xs:string">Приемник</Name>
		<ValueType/>
	</column>
	<column>
		<Name xsi:type="xs:string">Данные</Name>
		<ValueType/>
	</column>
	<column>
		<Name xsi:type="xs:string">Обязательный</Name>
		<ValueType/>
	</column>
	<column>
		<Name xsi:type="xs:string">Атрибуты</Name>
		<ValueType/>
	</column>
	<column>
		<Name xsi:type="xs:string">Служебные</Name>
		<ValueType/>
	</column>
	<column>
		<Name xsi:type="xs:string">Связи</Name>
		<ValueType/>
	</column>
	<column>
		<Name xsi:type="xs:string">Сохранение</Name>
		<ValueType/>
	</column>
	<column>
		<Name xsi:type="xs:string">Загрузка</Name>
		<ValueType/>
	</column>
	<column>
		<Name xsi:type="xs:string">ДанныеЗначения</Name>
		<ValueType/>
	</column>
	<column>
		<Name xsi:type="xs:string">ДоступныеЗначения</Name>
		<ValueType/>
	</column>
	<column>
		<Name xsi:type="xs:string">КоллекцияТЧ</Name>
		<ValueType/>
	</column>
	<row>
		<row>
			<Value xsi:type="xs:boolean">true</Value>
			<Value xsi:type="xs:string"/>
			<Value xsi:type="xs:string"/>
			<Value xsi:type="xs:string"/>
			<Value xsi:type="xs:string">NUMBER</Value>
			<Value xsi:type="xs:string">Документ.NUMBER</Value>
			<Value xsi:type="xs:boolean">true</Value>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
			<Value xsi:nil="true"/>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
			<Value xsi:type="xs:decimal">0</Value>
			<Value xsi:type="xs:decimal">0</Value>
			<Value xsi:type="ValueTable"/>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
		</row>
		<row>
			<Value xsi:type="xs:boolean">true</Value>
			<Value xsi:type="xs:string"/>
			<Value xsi:type="xs:string"/>
			<Value xsi:type="xs:string"/>
			<Value xsi:type="xs:string">DATE</Value>
			<Value xsi:type="xs:string">Документ.DATE</Value>
			<Value xsi:type="xs:boolean">true</Value>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
			<Value xsi:nil="true"/>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
			<Value xsi:type="xs:decimal">0</Value>
			<Value xsi:type="xs:decimal">0</Value>
			<Value xsi:type="ValueTable"/>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
		</row>
		<row>
			<Value xsi:type="xs:boolean">true</Value>
			<Value xsi:type="xs:string"/>
			<Value xsi:type="xs:string"/>
			<Value xsi:type="xs:string"/>
			<Value xsi:type="xs:string">DELIVERYDATE</Value>
			<Value xsi:type="xs:string">Документ.DELIVERYDATE</Value>
			<Value xsi:type="xs:boolean">true</Value>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
			<Value xsi:nil="true"/>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
			<Value xsi:type="xs:decimal">0</Value>
			<Value xsi:type="xs:decimal">0</Value>
			<Value xsi:type="ValueTable"/>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
		</row>
		<row>
			<Value xsi:type="xs:boolean">true</Value>
			<Value xsi:type="xs:string"/>
			<Value xsi:type="xs:string"/>
			<Value xsi:type="xs:string"/>
			<Value xsi:type="xs:string">ORDERNUMBER</Value>
			<Value xsi:type="xs:string">Документ.ORDERNUMBER</Value>
			<Value xsi:type="xs:boolean">true</Value>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
			<Value xsi:nil="true"/>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
			<Value xsi:type="xs:decimal">0</Value>
			<Value xsi:type="xs:decimal">0</Value>
			<Value xsi:type="ValueTable"/>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
		</row>
		<row>
			<Value xsi:type="xs:boolean">true</Value>
			<Value xsi:type="xs:string"/>
			<Value xsi:type="xs:string"/>
			<Value xsi:type="xs:string"/>
			<Value xsi:type="xs:string">DOCTYPE</Value>
			<Value xsi:type="xs:string">Документ.DOCTYPE</Value>
			<Value xsi:type="xs:boolean">false</Value>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
			<Value xsi:nil="true"/>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
			<Value xsi:type="xs:decimal">0</Value>
			<Value xsi:type="xs:decimal">0</Value>
			<Value xsi:type="ValueTable"/>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
		</row>
		<row>
			<Value xsi:type="xs:boolean">true</Value>
			<Value xsi:type="xs:string"/>
			<Value xsi:type="xs:string"/>
			<Value xsi:type="xs:string"/>
			<Value xsi:type="xs:string">ORDERDATE</Value>
			<Value xsi:type="xs:string">Документ.ORDERDATE</Value>
			<Value xsi:type="xs:boolean">true</Value>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
			<Value xsi:nil="true"/>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
			<Value xsi:type="xs:decimal">0</Value>
			<Value xsi:type="xs:decimal">0</Value>
			<Value xsi:type="ValueTable"/>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
		</row>
		<row>
			<Value xsi:type="xs:boolean">true</Value>
			<Value xsi:type="xs:string"/>
			<Value xsi:type="xs:string"/>
			<Value xsi:type="xs:string"/>
			<Value xsi:type="xs:string">DELIVERYNOTENUMBER</Value>
			<Value xsi:type="xs:string">Документ.DELIVERYNOTENUMBER</Value>
			<Value xsi:type="xs:boolean">true</Value>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
			<Value xsi:nil="true"/>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
			<Value xsi:type="xs:decimal">0</Value>
			<Value xsi:type="xs:decimal">0</Value>
			<Value xsi:type="ValueTable"/>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
		</row>
		<row>
			<Value xsi:type="xs:boolean">true</Value>
			<Value xsi:type="xs:string"/>
			<Value xsi:type="xs:string"/>
			<Value xsi:type="xs:string"/>
			<Value xsi:type="xs:string">DELIVERYNOTEDATE</Value>
			<Value xsi:type="xs:string">Документ.DELIVERYNOTEDATE</Value>
			<Value xsi:type="xs:boolean">false</Value>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
			<Value xsi:nil="true"/>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
			<Value xsi:type="xs:decimal">0</Value>
			<Value xsi:type="xs:decimal">0</Value>
			<Value xsi:type="ValueTable"/>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
		</row>
		<row>
			<Value xsi:type="xs:boolean">true</Value>
			<Value xsi:type="xs:string"/>
			<Value xsi:type="xs:string"/>
			<Value xsi:type="xs:string"/>
			<Value xsi:type="xs:string">WAYBILLNUMBER</Value>
			<Value xsi:type="xs:string">Документ.WAYBILLNUMBER</Value>
			<Value xsi:type="xs:boolean">true</Value>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
			<Value xsi:nil="true"/>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
			<Value xsi:type="xs:decimal">0</Value>
			<Value xsi:type="xs:decimal">0</Value>
			<Value xsi:type="ValueTable"/>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
		</row>
		<row>
			<Value xsi:type="xs:boolean">true</Value>
			<Value xsi:type="xs:string"/>
			<Value xsi:type="xs:string"/>
			<Value xsi:type="xs:string"/>
			<Value xsi:type="xs:string">WAYBILLDATE</Value>
			<Value xsi:type="xs:string">Документ.WAYBILLDATE</Value>
			<Value xsi:type="xs:boolean">true</Value>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
			<Value xsi:nil="true"/>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
			<Value xsi:type="xs:decimal">0</Value>
			<Value xsi:type="xs:decimal">0</Value>
			<Value xsi:type="ValueTable"/>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
		</row>
		<row>
			<Value xsi:type="xs:boolean">true</Value>
			<Value xsi:type="xs:string"/>
			<Value xsi:type="xs:string"/>
			<Value xsi:type="xs:string"/>
			<Value xsi:type="xs:string">CAMPAIGNNUMBER</Value>
			<Value xsi:type="xs:string">Документ.CAMPAIGNNUMBER</Value>
			<Value xsi:type="xs:boolean">false</Value>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
			<Value xsi:nil="true"/>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
			<Value xsi:type="xs:decimal">0</Value>
			<Value xsi:type="xs:decimal">0</Value>
			<Value xsi:type="ValueTable"/>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
		</row>
		<row>
			<Value xsi:type="xs:boolean">true</Value>
			<Value xsi:type="xs:string"/>
			<Value xsi:type="xs:string"/>
			<Value xsi:type="xs:string"/>
			<Value xsi:type="xs:string">FRESH</Value>
			<Value xsi:type="xs:string">Документ.FRESH</Value>
			<Value xsi:type="xs:boolean">false</Value>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
			<Value xsi:nil="true"/>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
			<Value xsi:type="xs:decimal">0</Value>
			<Value xsi:type="xs:decimal">0</Value>
			<Value xsi:type="ValueTable"/>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
		</row>
		<row>
			<row>
				<Value xsi:type="xs:boolean">true</Value>
				<Value xsi:type="xs:string"/>
				<Value xsi:type="xs:string"/>
				<Value xsi:type="xs:string"/>
				<Value xsi:type="xs:string">SUPPLIER</Value>
				<Value xsi:type="xs:string">Документ.SUPPLIER</Value>
				<Value xsi:type="xs:boolean">true</Value>
				<Value xsi:type="ValueListType">
					<valueType/>
					<lastId xsi:type="xs:decimal">-1</lastId>
				</Value>
				<Value xsi:nil="true"/>
				<Value xsi:type="ValueListType">
					<valueType/>
					<lastId xsi:type="xs:decimal">-1</lastId>
				</Value>
				<Value xsi:type="xs:decimal">0</Value>
				<Value xsi:type="xs:decimal">0</Value>
				<Value xsi:type="ValueTable"/>
				<Value xsi:type="ValueListType">
					<valueType/>
					<lastId xsi:type="xs:decimal">-1</lastId>
				</Value>
				<Value xsi:type="ValueListType">
					<valueType/>
					<lastId xsi:type="xs:decimal">-1</lastId>
				</Value>
			</row>
			<row>
				<Value xsi:type="xs:boolean">true</Value>
				<Value xsi:type="xs:string"/>
				<Value xsi:type="xs:string"/>
				<Value xsi:type="xs:string"/>
				<Value xsi:type="xs:string">BUYER</Value>
				<Value xsi:type="xs:string">Документ.BUYER</Value>
				<Value xsi:type="xs:boolean">true</Value>
				<Value xsi:type="ValueListType">
					<valueType/>
					<lastId xsi:type="xs:decimal">-1</lastId>
				</Value>
				<Value xsi:nil="true"/>
				<Value xsi:type="ValueListType">
					<valueType/>
					<lastId xsi:type="xs:decimal">-1</lastId>
				</Value>
				<Value xsi:type="xs:decimal">0</Value>
				<Value xsi:type="xs:decimal">0</Value>
				<Value xsi:type="ValueTable"/>
				<Value xsi:type="ValueListType">
					<valueType/>
					<lastId xsi:type="xs:decimal">-1</lastId>
				</Value>
				<Value xsi:type="ValueListType">
					<valueType/>
					<lastId xsi:type="xs:decimal">-1</lastId>
				</Value>
			</row>
			<row>
				<Value xsi:type="xs:boolean">true</Value>
				<Value xsi:type="xs:string"/>
				<Value xsi:type="xs:string"/>
				<Value xsi:type="xs:string"/>
				<Value xsi:type="xs:string">DELIVERYPLACE</Value>
				<Value xsi:type="xs:string">Документ.DELIVERYPLACE</Value>
				<Value xsi:type="xs:boolean">true</Value>
				<Value xsi:type="ValueListType">
					<valueType/>
					<lastId xsi:type="xs:decimal">-1</lastId>
				</Value>
				<Value xsi:nil="true"/>
				<Value xsi:type="ValueListType">
					<valueType/>
					<lastId xsi:type="xs:decimal">-1</lastId>
				</Value>
				<Value xsi:type="xs:decimal">0</Value>
				<Value xsi:type="xs:decimal">0</Value>
				<Value xsi:type="ValueTable"/>
				<Value xsi:type="ValueListType">
					<valueType/>
					<lastId xsi:type="xs:decimal">-1</lastId>
				</Value>
				<Value xsi:type="ValueListType">
					<valueType/>
					<lastId xsi:type="xs:decimal">-1</lastId>
				</Value>
			</row>
			<row>
				<Value xsi:type="xs:boolean">true</Value>
				<Value xsi:type="xs:string"/>
				<Value xsi:type="xs:string"/>
				<Value xsi:type="xs:string"/>
				<Value xsi:type="xs:string">SENDER</Value>
				<Value xsi:type="xs:string">Документ.SENDER</Value>
				<Value xsi:type="xs:boolean">true</Value>
				<Value xsi:type="ValueListType">
					<valueType/>
					<lastId xsi:type="xs:decimal">-1</lastId>
				</Value>
				<Value xsi:nil="true"/>
				<Value xsi:type="ValueListType">
					<valueType/>
					<lastId xsi:type="xs:decimal">-1</lastId>
				</Value>
				<Value xsi:type="xs:decimal">0</Value>
				<Value xsi:type="xs:decimal">0</Value>
				<Value xsi:type="ValueTable"/>
				<Value xsi:type="ValueListType">
					<valueType/>
					<lastId xsi:type="xs:decimal">-1</lastId>
				</Value>
				<Value xsi:type="ValueListType">
					<valueType/>
					<lastId xsi:type="xs:decimal">-1</lastId>
				</Value>
			</row>
			<row>
				<Value xsi:type="xs:boolean">true</Value>
				<Value xsi:type="xs:string"/>
				<Value xsi:type="xs:string"/>
				<Value xsi:type="xs:string"/>
				<Value xsi:type="xs:string">RECIPIENT</Value>
				<Value xsi:type="xs:string">Документ.RECIPIENT</Value>
				<Value xsi:type="xs:boolean">true</Value>
				<Value xsi:type="ValueListType">
					<valueType/>
					<lastId xsi:type="xs:decimal">-1</lastId>
				</Value>
				<Value xsi:nil="true"/>
				<Value xsi:type="ValueListType">
					<valueType/>
					<lastId xsi:type="xs:decimal">-1</lastId>
				</Value>
				<Value xsi:type="xs:decimal">0</Value>
				<Value xsi:type="xs:decimal">0</Value>
				<Value xsi:type="ValueTable"/>
				<Value xsi:type="ValueListType">
					<valueType/>
					<lastId xsi:type="xs:decimal">-1</lastId>
				</Value>
				<Value xsi:type="ValueListType">
					<valueType/>
					<lastId xsi:type="xs:decimal">-1</lastId>
				</Value>
			</row>
			<row>
				<Value xsi:type="xs:boolean">true</Value>
				<Value xsi:type="xs:string"/>
				<Value xsi:type="xs:string"/>
				<Value xsi:type="xs:string"/>
				<Value xsi:type="xs:string">EDIINTERCHANGEID</Value>
				<Value xsi:type="xs:string">Документ.EDIINTERCHANGEID</Value>
				<Value xsi:type="xs:boolean">false</Value>
				<Value xsi:type="ValueListType">
					<valueType/>
					<lastId xsi:type="xs:decimal">-1</lastId>
				</Value>
				<Value xsi:nil="true"/>
				<Value xsi:type="ValueListType">
					<valueType/>
					<lastId xsi:type="xs:decimal">-1</lastId>
				</Value>
				<Value xsi:type="xs:decimal">0</Value>
				<Value xsi:type="xs:decimal">0</Value>
				<Value xsi:type="ValueTable"/>
				<Value xsi:type="ValueListType">
					<valueType/>
					<lastId xsi:type="xs:decimal">-1</lastId>
				</Value>
				<Value xsi:type="ValueListType">
					<valueType/>
					<lastId xsi:type="xs:decimal">-1</lastId>
				</Value>
			</row>
			<row>
				<row>
					<Value xsi:type="xs:boolean">true</Value>
					<Value xsi:type="xs:string"/>
					<Value xsi:type="xs:string"/>
					<Value xsi:type="xs:string"/>
					<Value xsi:type="xs:string">HIERARCHICALID</Value>
					<Value xsi:type="xs:string">Документ.HIERARCHICALID</Value>
					<Value xsi:type="xs:boolean">true</Value>
					<Value xsi:type="ValueListType">
						<valueType/>
						<lastId xsi:type="xs:decimal">-1</lastId>
					</Value>
					<Value xsi:type="xs:string"/>
					<Value xsi:type="ValueListType">
						<valueType/>
						<lastId xsi:type="xs:decimal">-1</lastId>
					</Value>
					<Value xsi:type="xs:decimal">0</Value>
					<Value xsi:type="xs:decimal">0</Value>
					<Value xsi:type="ValueTable"/>
					<Value xsi:type="ValueListType">
						<valueType/>
						<lastId xsi:type="xs:decimal">-1</lastId>
					</Value>
					<Value xsi:type="ValueListType">
						<valueType/>
						<lastId xsi:type="xs:decimal">-1</lastId>
					</Value>
				</row>
				<row>
					<row>
						<Value xsi:type="xs:boolean">true</Value>
						<Value xsi:type="xs:string"/>
						<Value xsi:type="xs:string"/>
						<Value xsi:type="xs:string"/>
						<Value xsi:type="xs:string">POSITIONNUMBER</Value>
						<Value xsi:type="xs:string">POSITION.POSITIONNUMBER</Value>
						<Value xsi:type="xs:boolean">true</Value>
						<Value xsi:type="ValueListType">
							<valueType/>
							<lastId xsi:type="xs:decimal">-1</lastId>
						</Value>
						<Value xsi:nil="true"/>
						<Value xsi:type="ValueListType">
							<valueType/>
							<lastId xsi:type="xs:decimal">-1</lastId>
						</Value>
						<Value xsi:type="xs:decimal">0</Value>
						<Value xsi:type="xs:decimal">0</Value>
						<Value xsi:type="ValueTable"/>
						<Value xsi:type="ValueListType">
							<valueType/>
							<lastId xsi:type="xs:decimal">-1</lastId>
						</Value>
						<Value xsi:type="ValueListType">
							<valueType/>
							<lastId xsi:type="xs:decimal">-1</lastId>
						</Value>
					</row>
					<row>
						<Value xsi:type="xs:boolean">true</Value>
						<Value xsi:type="xs:string"/>
						<Value xsi:type="xs:string"/>
						<Value xsi:type="xs:string"/>
						<Value xsi:type="xs:string">PRODUCT</Value>
						<Value xsi:type="xs:string">POSITION.PRODUCT</Value>
						<Value xsi:type="xs:boolean">true</Value>
						<Value xsi:type="ValueListType">
							<valueType/>
							<lastId xsi:type="xs:decimal">-1</lastId>
						</Value>
						<Value xsi:nil="true"/>
						<Value xsi:type="ValueListType">
							<valueType/>
							<lastId xsi:type="xs:decimal">-1</lastId>
						</Value>
						<Value xsi:type="xs:decimal">0</Value>
						<Value xsi:type="xs:decimal">0</Value>
						<Value xsi:type="ValueTable"/>
						<Value xsi:type="ValueListType">
							<valueType/>
							<lastId xsi:type="xs:decimal">-1</lastId>
						</Value>
						<Value xsi:type="ValueListType">
							<valueType/>
							<lastId xsi:type="xs:decimal">-1</lastId>
						</Value>
					</row>
					<row>
						<Value xsi:type="xs:boolean">true</Value>
						<Value xsi:type="xs:string"/>
						<Value xsi:type="xs:string"/>
						<Value xsi:type="xs:string"/>
						<Value xsi:type="xs:string">PRODUCTIDSUPPLIER</Value>
						<Value xsi:type="xs:string">POSITION.PRODUCTIDSUPPLIER</Value>
						<Value xsi:type="xs:boolean">false</Value>
						<Value xsi:type="ValueListType">
							<valueType/>
							<lastId xsi:type="xs:decimal">-1</lastId>
						</Value>
						<Value xsi:nil="true"/>
						<Value xsi:type="ValueListType">
							<valueType/>
							<lastId xsi:type="xs:decimal">-1</lastId>
						</Value>
						<Value xsi:type="xs:decimal">0</Value>
						<Value xsi:type="xs:decimal">0</Value>
						<Value xsi:type="ValueTable"/>
						<Value xsi:type="ValueListType">
							<valueType/>
							<lastId xsi:type="xs:decimal">-1</lastId>
						</Value>
						<Value xsi:type="ValueListType">
							<valueType/>
							<lastId xsi:type="xs:decimal">-1</lastId>
						</Value>
					</row>
					<row>
						<Value xsi:type="xs:boolean">true</Value>
						<Value xsi:type="xs:string"/>
						<Value xsi:type="xs:string"/>
						<Value xsi:type="xs:string"/>
						<Value xsi:type="xs:string">PRODUCTIDBUYER</Value>
						<Value xsi:type="xs:string">POSITION.PRODUCTIDBUYER</Value>
						<Value xsi:type="xs:boolean">true</Value>
						<Value xsi:type="ValueListType">
							<valueType/>
							<lastId xsi:type="xs:decimal">-1</lastId>
						</Value>
						<Value xsi:nil="true"/>
						<Value xsi:type="ValueListType">
							<valueType/>
							<lastId xsi:type="xs:decimal">-1</lastId>
						</Value>
						<Value xsi:type="xs:decimal">0</Value>
						<Value xsi:type="xs:decimal">0</Value>
						<Value xsi:type="ValueTable"/>
						<Value xsi:type="ValueListType">
							<valueType/>
							<lastId xsi:type="xs:decimal">-1</lastId>
						</Value>
						<Value xsi:type="ValueListType">
							<valueType/>
							<lastId xsi:type="xs:decimal">-1</lastId>
						</Value>
					</row>
					<row>
						<Value xsi:type="xs:boolean">true</Value>
						<Value xsi:type="xs:string"/>
						<Value xsi:type="xs:string"/>
						<Value xsi:type="xs:string"/>
						<Value xsi:type="xs:string">DELIVEREDQUANTITY</Value>
						<Value xsi:type="xs:string">POSITION.DELIVEREDQUANTITY</Value>
						<Value xsi:type="xs:boolean">true</Value>
						<Value xsi:type="ValueListType">
							<valueType/>
							<lastId xsi:type="xs:decimal">-1</lastId>
						</Value>
						<Value xsi:nil="true"/>
						<Value xsi:type="ValueListType">
							<valueType/>
							<lastId xsi:type="xs:decimal">-1</lastId>
						</Value>
						<Value xsi:type="xs:decimal">0</Value>
						<Value xsi:type="xs:decimal">0</Value>
						<Value xsi:type="ValueTable"/>
						<Value xsi:type="ValueListType">
							<valueType/>
							<lastId xsi:type="xs:decimal">-1</lastId>
						</Value>
						<Value xsi:type="ValueListType">
							<valueType/>
							<lastId xsi:type="xs:decimal">-1</lastId>
						</Value>
					</row>
					<row>
						<Value xsi:type="xs:boolean">true</Value>
						<Value xsi:type="xs:string"/>
						<Value xsi:type="xs:string"/>
						<Value xsi:type="xs:string"/>
						<Value xsi:type="xs:string">DELIVEREDUNIT</Value>
						<Value xsi:type="xs:string">POSITION.DELIVEREDUNIT</Value>
						<Value xsi:type="xs:boolean">false</Value>
						<Value xsi:type="ValueListType">
							<valueType/>
							<lastId xsi:type="xs:decimal">-1</lastId>
						</Value>
						<Value xsi:nil="true"/>
						<Value xsi:type="ValueListType">
							<valueType/>
							<lastId xsi:type="xs:decimal">-1</lastId>
						</Value>
						<Value xsi:type="xs:decimal">0</Value>
						<Value xsi:type="xs:decimal">0</Value>
						<Value xsi:type="ValueTable"/>
						<Value xsi:type="ValueListType">
							<valueType/>
							<lastId xsi:type="xs:decimal">-1</lastId>
						</Value>
						<Value xsi:type="ValueListType">
							<valueType/>
							<lastId xsi:type="xs:decimal">-1</lastId>
						</Value>
					</row>
					<row>
						<Value xsi:type="xs:boolean">true</Value>
						<Value xsi:type="xs:string"/>
						<Value xsi:type="xs:string"/>
						<Value xsi:type="xs:string"/>
						<Value xsi:type="xs:string">ORDEREDQUANTITY</Value>
						<Value xsi:type="xs:string">POSITION.ORDEREDQUANTITY</Value>
						<Value xsi:type="xs:boolean">true</Value>
						<Value xsi:type="ValueListType">
							<valueType/>
							<lastId xsi:type="xs:decimal">-1</lastId>
						</Value>
						<Value xsi:nil="true"/>
						<Value xsi:type="ValueListType">
							<valueType/>
							<lastId xsi:type="xs:decimal">-1</lastId>
						</Value>
						<Value xsi:type="xs:decimal">0</Value>
						<Value xsi:type="xs:decimal">0</Value>
						<Value xsi:type="ValueTable"/>
						<Value xsi:type="ValueListType">
							<valueType/>
							<lastId xsi:type="xs:decimal">-1</lastId>
						</Value>
						<Value xsi:type="ValueListType">
							<valueType/>
							<lastId xsi:type="xs:decimal">-1</lastId>
						</Value>
					</row>
					<row>
						<Value xsi:type="xs:boolean">true</Value>
						<Value xsi:type="xs:string"/>
						<Value xsi:type="xs:string"/>
						<Value xsi:type="xs:string"/>
						<Value xsi:type="xs:string">ORDERUNIT</Value>
						<Value xsi:type="xs:string">POSITION.ORDERUNIT</Value>
						<Value xsi:type="xs:boolean">true</Value>
						<Value xsi:type="ValueListType">
							<valueType/>
							<lastId xsi:type="xs:decimal">-1</lastId>
						</Value>
						<Value xsi:nil="true"/>
						<Value xsi:type="ValueListType">
							<valueType/>
							<lastId xsi:type="xs:decimal">-1</lastId>
						</Value>
						<Value xsi:type="xs:decimal">0</Value>
						<Value xsi:type="xs:decimal">0</Value>
						<Value xsi:type="ValueTable"/>
						<Value xsi:type="ValueListType">
							<valueType/>
							<lastId xsi:type="xs:decimal">-1</lastId>
						</Value>
						<Value xsi:type="ValueListType">
							<valueType/>
							<lastId xsi:type="xs:decimal">-1</lastId>
						</Value>
					</row>
					<row>
						<Value xsi:type="xs:boolean">true</Value>
						<Value xsi:type="xs:string"/>
						<Value xsi:type="xs:string"/>
						<Value xsi:type="xs:string"/>
						<Value xsi:type="xs:string">CALIBRE</Value>
						<Value xsi:type="xs:string">POSITION.CALIBRE</Value>
						<Value xsi:type="xs:boolean">false</Value>
						<Value xsi:type="ValueListType">
							<valueType/>
							<lastId xsi:type="xs:decimal">-1</lastId>
						</Value>
						<Value xsi:nil="true"/>
						<Value xsi:type="ValueListType">
							<valueType/>
							<lastId xsi:type="xs:decimal">-1</lastId>
						</Value>
						<Value xsi:type="xs:decimal">0</Value>
						<Value xsi:type="xs:decimal">0</Value>
						<Value xsi:type="ValueTable"/>
						<Value xsi:type="ValueListType">
							<valueType/>
							<lastId xsi:type="xs:decimal">-1</lastId>
						</Value>
						<Value xsi:type="ValueListType">
							<valueType/>
							<lastId xsi:type="xs:decimal">-1</lastId>
						</Value>
					</row>
					<row>
						<Value xsi:type="xs:boolean">true</Value>
						<Value xsi:type="xs:string"/>
						<Value xsi:type="xs:string"/>
						<Value xsi:type="xs:string"/>
						<Value xsi:type="xs:string">AMOUNT</Value>
						<Value xsi:type="xs:string">POSITION.AMOUNT</Value>
						<Value xsi:type="xs:boolean">false</Value>
						<Value xsi:type="ValueListType">
							<valueType/>
							<lastId xsi:type="xs:decimal">-1</lastId>
						</Value>
						<Value xsi:nil="true"/>
						<Value xsi:type="ValueListType">
							<valueType/>
							<lastId xsi:type="xs:decimal">-1</lastId>
						</Value>
						<Value xsi:type="xs:decimal">0</Value>
						<Value xsi:type="xs:decimal">0</Value>
						<Value xsi:type="ValueTable"/>
						<Value xsi:type="ValueListType">
							<valueType/>
							<lastId xsi:type="xs:decimal">-1</lastId>
						</Value>
						<Value xsi:type="ValueListType">
							<valueType/>
							<lastId xsi:type="xs:decimal">-1</lastId>
						</Value>
					</row>
					<row>
						<Value xsi:type="xs:boolean">true</Value>
						<Value xsi:type="xs:string"/>
						<Value xsi:type="xs:string"/>
						<Value xsi:type="xs:string"/>
						<Value xsi:type="xs:string">PRICE</Value>
						<Value xsi:type="xs:string">POSITION.PRICE</Value>
						<Value xsi:type="xs:boolean">true</Value>
						<Value xsi:type="ValueListType">
							<valueType/>
							<lastId xsi:type="xs:decimal">-1</lastId>
						</Value>
						<Value xsi:nil="true"/>
						<Value xsi:type="ValueListType">
							<valueType/>
							<lastId xsi:type="xs:decimal">-1</lastId>
						</Value>
						<Value xsi:type="xs:decimal">0</Value>
						<Value xsi:type="xs:decimal">0</Value>
						<Value xsi:type="ValueTable"/>
						<Value xsi:type="ValueListType">
							<valueType/>
							<lastId xsi:type="xs:decimal">-1</lastId>
						</Value>
						<Value xsi:type="ValueListType">
							<valueType/>
							<lastId xsi:type="xs:decimal">-1</lastId>
						</Value>
					</row>
					<row>
						<Value xsi:type="xs:boolean">true</Value>
						<Value xsi:type="xs:string"/>
						<Value xsi:type="xs:string"/>
						<Value xsi:type="xs:string"/>
						<Value xsi:type="xs:string">PRICEWITHVAT</Value>
						<Value xsi:type="xs:string">POSITION.PRICEWITHVAT</Value>
						<Value xsi:type="xs:boolean">true</Value>
						<Value xsi:type="ValueListType">
							<valueType/>
							<lastId xsi:type="xs:decimal">-1</lastId>
						</Value>
						<Value xsi:nil="true"/>
						<Value xsi:type="ValueListType">
							<valueType/>
							<lastId xsi:type="xs:decimal">-1</lastId>
						</Value>
						<Value xsi:type="xs:decimal">0</Value>
						<Value xsi:type="xs:decimal">0</Value>
						<Value xsi:type="ValueTable"/>
						<Value xsi:type="ValueListType">
							<valueType/>
							<lastId xsi:type="xs:decimal">-1</lastId>
						</Value>
						<Value xsi:type="ValueListType">
							<valueType/>
							<lastId xsi:type="xs:decimal">-1</lastId>
						</Value>
					</row>
					<row>
						<Value xsi:type="xs:boolean">true</Value>
						<Value xsi:type="xs:string"/>
						<Value xsi:type="xs:string"/>
						<Value xsi:type="xs:string"/>
						<Value xsi:type="xs:string">TAXRATE</Value>
						<Value xsi:type="xs:string">POSITION.TAXRATE</Value>
						<Value xsi:type="xs:boolean">true</Value>
						<Value xsi:type="ValueListType">
							<valueType/>
							<lastId xsi:type="xs:decimal">-1</lastId>
						</Value>
						<Value xsi:nil="true"/>
						<Value xsi:type="ValueListType">
							<valueType/>
							<lastId xsi:type="xs:decimal">-1</lastId>
						</Value>
						<Value xsi:type="xs:decimal">0</Value>
						<Value xsi:type="xs:decimal">0</Value>
						<Value xsi:type="ValueTable"/>
						<Value xsi:type="ValueListType">
							<valueType/>
							<lastId xsi:type="xs:decimal">-1</lastId>
						</Value>
						<Value xsi:type="ValueListType">
							<valueType/>
							<lastId xsi:type="xs:decimal">-1</lastId>
						</Value>
					</row>
					<row>
						<Value xsi:type="xs:boolean">true</Value>
						<Value xsi:type="xs:string"/>
						<Value xsi:type="xs:string"/>
						<Value xsi:type="xs:string"/>
						<Value xsi:type="xs:string">AMOUNTWITHVAT</Value>
						<Value xsi:type="xs:string">POSITION.AMOUNTWITHVAT</Value>
						<Value xsi:type="xs:boolean">false</Value>
						<Value xsi:type="ValueListType">
							<valueType/>
							<lastId xsi:type="xs:decimal">-1</lastId>
						</Value>
						<Value xsi:nil="true"/>
						<Value xsi:type="ValueListType">
							<valueType/>
							<lastId xsi:type="xs:decimal">-1</lastId>
						</Value>
						<Value xsi:type="xs:decimal">0</Value>
						<Value xsi:type="xs:decimal">0</Value>
						<Value xsi:type="ValueTable"/>
						<Value xsi:type="ValueListType">
							<valueType/>
							<lastId xsi:type="xs:decimal">-1</lastId>
						</Value>
						<Value xsi:type="ValueListType">
							<valueType/>
							<lastId xsi:type="xs:decimal">-1</lastId>
						</Value>
					</row>
					<row>
						<Value xsi:type="xs:boolean">true</Value>
						<Value xsi:type="xs:string"/>
						<Value xsi:type="xs:string"/>
						<Value xsi:type="xs:string"/>
						<Value xsi:type="xs:string">DESCRIPTION</Value>
						<Value xsi:type="xs:string">POSITION.DESCRIPTION</Value>
						<Value xsi:type="xs:boolean">false</Value>
						<Value xsi:type="ValueListType">
							<valueType/>
							<lastId xsi:type="xs:decimal">-1</lastId>
						</Value>
						<Value xsi:nil="true"/>
						<Value xsi:type="ValueListType">
							<valueType/>
							<lastId xsi:type="xs:decimal">-1</lastId>
						</Value>
						<Value xsi:type="xs:decimal">0</Value>
						<Value xsi:type="xs:decimal">0</Value>
						<Value xsi:type="ValueTable"/>
						<Value xsi:type="ValueListType">
							<valueType/>
							<lastId xsi:type="xs:decimal">-1</lastId>
						</Value>
						<Value xsi:type="ValueListType">
							<valueType/>
							<lastId xsi:type="xs:decimal">-1</lastId>
						</Value>
					</row>
					<row>
						<row>
							<Value xsi:type="xs:boolean">true</Value>
							<Value xsi:type="xs:string"/>
							<Value xsi:type="xs:string"/>
							<Value xsi:type="xs:string"/>
							<Value xsi:type="xs:string">PACKINGTYPE</Value>
							<Value xsi:type="xs:string">POSITION.PACKINGTYPE</Value>
							<Value xsi:type="xs:boolean">false</Value>
							<Value xsi:type="ValueListType">
								<valueType/>
								<lastId xsi:type="xs:decimal">-1</lastId>
							</Value>
							<Value xsi:nil="true"/>
							<Value xsi:type="ValueListType">
								<valueType/>
								<lastId xsi:type="xs:decimal">-1</lastId>
							</Value>
							<Value xsi:type="xs:decimal">0</Value>
							<Value xsi:type="xs:decimal">0</Value>
							<Value xsi:type="ValueTable"/>
							<Value xsi:type="ValueListType">
								<valueType/>
								<lastId xsi:type="xs:decimal">-1</lastId>
							</Value>
							<Value xsi:type="ValueListType">
								<valueType/>
								<lastId xsi:type="xs:decimal">-1</lastId>
							</Value>
						</row>
						<row>
							<Value xsi:type="xs:boolean">true</Value>
							<Value xsi:type="xs:string"/>
							<Value xsi:type="xs:string"/>
							<Value xsi:type="xs:string"/>
							<Value xsi:type="xs:string">PACKINGQUANTITY</Value>
							<Value xsi:type="xs:string">POSITION.PACKINGQUANTITY</Value>
							<Value xsi:type="xs:boolean">false</Value>
							<Value xsi:type="ValueListType">
								<valueType/>
								<lastId xsi:type="xs:decimal">-1</lastId>
							</Value>
							<Value xsi:nil="true"/>
							<Value xsi:type="ValueListType">
								<valueType/>
								<lastId xsi:type="xs:decimal">-1</lastId>
							</Value>
							<Value xsi:type="xs:decimal">0</Value>
							<Value xsi:type="xs:decimal">0</Value>
							<Value xsi:type="ValueTable"/>
							<Value xsi:type="ValueListType">
								<valueType/>
								<lastId xsi:type="xs:decimal">-1</lastId>
							</Value>
							<Value xsi:type="ValueListType">
								<valueType/>
								<lastId xsi:type="xs:decimal">-1</lastId>
							</Value>
						</row>
						<row>
							<Value xsi:type="xs:boolean">true</Value>
							<Value xsi:type="xs:string"/>
							<Value xsi:type="xs:string"/>
							<Value xsi:type="xs:string"/>
							<Value xsi:type="xs:string">PACKINGUNIT</Value>
							<Value xsi:type="xs:string">POSITION.PACKINGUNIT</Value>
							<Value xsi:type="xs:boolean">false</Value>
							<Value xsi:type="ValueListType">
								<valueType/>
								<lastId xsi:type="xs:decimal">-1</lastId>
							</Value>
							<Value xsi:nil="true"/>
							<Value xsi:type="ValueListType">
								<valueType/>
								<lastId xsi:type="xs:decimal">-1</lastId>
							</Value>
							<Value xsi:type="xs:decimal">0</Value>
							<Value xsi:type="xs:decimal">0</Value>
							<Value xsi:type="ValueTable"/>
							<Value xsi:type="ValueListType">
								<valueType/>
								<lastId xsi:type="xs:decimal">-1</lastId>
							</Value>
							<Value xsi:type="ValueListType">
								<valueType/>
								<lastId xsi:type="xs:decimal">-1</lastId>
							</Value>
						</row>
						<Value xsi:type="xs:boolean">true</Value>
						<Value xsi:type="xs:string"/>
						<Value xsi:type="xs:string"/>
						<Value xsi:type="xs:string"/>
						<Value xsi:type="xs:string">PACKING</Value>
						<Value xsi:type="xs:string"/>
						<Value xsi:type="xs:boolean">false</Value>
						<Value xsi:type="ValueListType">
							<valueType/>
							<lastId xsi:type="xs:decimal">-1</lastId>
						</Value>
						<Value xsi:nil="true"/>
						<Value xsi:type="ValueListType">
							<valueType/>
							<lastId xsi:type="xs:decimal">-1</lastId>
						</Value>
						<Value xsi:type="xs:decimal">0</Value>
						<Value xsi:type="xs:decimal">0</Value>
						<Value xsi:type="ValueTable"/>
						<Value xsi:type="ValueListType">
							<valueType/>
							<lastId xsi:type="xs:decimal">-1</lastId>
						</Value>
						<Value xsi:type="ValueListType">
							<valueType/>
							<lastId xsi:type="xs:decimal">-1</lastId>
						</Value>
					</row>
					<Value xsi:type="xs:boolean">true</Value>
					<Value xsi:type="xs:string"/>
					<Value xsi:type="xs:string"/>
					<Value xsi:type="xs:string"/>
					<Value xsi:type="xs:string">POSITION</Value>
					<Value xsi:type="xs:string">// ВыполнитьГибкиеНастройки(,Источник); // Для тестирования

Запрос = Новый Запрос;
Запрос.Текст = 
"ВЫБРАТЬ
|	DR_События_ORDER.Документ КАК ORDER,
|	DR_События_Накладная.Документ КАК Накладная
|ПОМЕСТИТЬ ВТ_ЦепочкаДокументов
|ИЗ
|	РегистрСведений.DR_События КАК DR_События_Накладная
|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрСведений.DR_События КАК DR_События_ORDER
|		ПО (DR_События_Накладная.ИдентификаторЦепочки = DR_События_ORDER.ИдентификаторЦепочки)
|ГДЕ
|	DR_События_ORDER.ВидДокумента = ЗНАЧЕНИЕ(Перечисление.ЭКОМ_ВидыДокументов.ORDER_Входящий)
|	И DR_События_Накладная.Документ В(&amp;Документ)
|;
|
|////////////////////////////////////////////////////////////////////////////////
|ВЫБРАТЬ
|	ВТ_ЦепочкаДокументов.Накладная КАК Ссылка,
|	ВТ_ЦепочкаДокументов.Накладная КАК Накладная,
|	ЭКОМ_ДокументыТЧ_Товары.НомерСтрокиXML КАК НомерСтроки,
|	ЭКОМ_ДокументыТЧ_Товары.Номенклатура КАК Номенклатура,
|	ЭКОМ_ДокументыТЧ_Товары.Номенклатура.Код КАК PRODUCTIDSUPPLIER,
|	ВТ_ЦепочкаДокументов.Накладная.СуммаВключаетНДС КАК СуммаВключаетНДС,
|	ЭКОМ_НоменклатураКонтрагентов.ШтрихКодНоменклатурыКонтрагента КАК ШтрихКодНоменклатурыКонтрагента,
|	ЭКОМ_ДокументыТЧ_Товары.СтавкаНДС КАК СтавкаНДС,
|	ВЫБОР
|		КОГДА ВТ_ЦепочкаДокументов.Накладная.СуммаВключаетНДС = ИСТИНА
|			ТОГДА ЭКОМ_ДокументыТЧ_Товары.ЦенаСНДС
|		ИНАЧЕ ЭКОМ_ДокументыТЧ_Товары.Цена
|	КОНЕЦ КАК Цена,
|	ВЫБОР
|		КОГДА ВТ_ЦепочкаДокументов.Накладная.СуммаВключаетНДС = ИСТИНА
|			ТОГДА ЭКОМ_ДокументыТЧ_Товары.Сумма_с_НДС
|		ИНАЧЕ ЭКОМ_ДокументыТЧ_Товары.Сумма
|	КОНЕЦ КАК Сумма,
|	ЭКОМ_НоменклатураКонтрагентов.ШтрихКодНоменклатурыКонтрагента КАК PRODUCT,
|	ВЫБОР
|		КОГДА НЕ ЭКОМ_НоменклатураКонтрагентов.АртикулНоменклатурыКонтрагента = """"
|			ТОГДА ЭКОМ_НоменклатураКонтрагентов.АртикулНоменклатурыКонтрагента
|		КОГДА НЕ ЭКОМ_НоменклатураКонтрагентов.КодНоменклатурыКонтрагента = """"
|			ТОГДА ЭКОМ_НоменклатураКонтрагентов.КодНоменклатурыКонтрагента
|		ИНАЧЕ """"
|	КОНЕЦ КАК PRODUCTIDBUYER,
|	ПРЕДСТАВЛЕНИЕ(ЭКОМ_ДокументыТЧ_Товары.Номенклатура) КАК DESCRIPTION,
|	ЭКОМ_ДокументыТЧ_Товары.КоличествоЗаказанное КАК КоличесвоЗаказанное,
|	ЭКОМ_ДокументыТЧ_Товары.xmlЕдиницаИзмерения КАК ORDERUNIT,
|	ЭКОМ_ДокументыТЧ_Товары.xmlЕдиницаИзмерения КАК DELIVEREDUNIT,
|	ЭКОМ_ДокументыТЧ_Товары.КалибрУпаковки КАК КалибрУпаковки,
|	ЭКОМ_ДокументыТЧ_Товары.ТипФасовки КАК ТипФасовки,
|	ЭКОМ_ДокументыТЧ_Товары.КоличествоВФасовке КАК КоличествоВФасовке,
|	ЭКОМ_ДокументыТЧ_Товары.БазоваяЕдиницаТовара КАК БазоваяЕдиницаТовара
|ПОМЕСТИТЬ втЭКОМ
|ИЗ
|	ВТ_ЦепочкаДокументов КАК ВТ_ЦепочкаДокументов
|		ЛЕВОЕ СОЕДИНЕНИЕ Документ.ЭКОМ_Документы.ТЧ_Товары КАК ЭКОМ_ДокументыТЧ_Товары
|			ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.ЭКОМ_НоменклатураКонтрагентов КАК ЭКОМ_НоменклатураКонтрагентов
|			ПО ЭКОМ_ДокументыТЧ_Товары.Номенклатура = ЭКОМ_НоменклатураКонтрагентов.Номенклатура
|				И ЭКОМ_ДокументыТЧ_Товары.Ссылка.Контрагент = ЭКОМ_НоменклатураКонтрагентов.Контрагент
|		ПО ВТ_ЦепочкаДокументов.ORDER = ЭКОМ_ДокументыТЧ_Товары.Ссылка
|;
|
|////////////////////////////////////////////////////////////////////////////////
|ВЫБРАТЬ
|	РеализацияТоваровУслугТовары.Ссылка КАК Ссылка,
|	РеализацияТоваровУслугТовары.Номенклатура КАК Номенклатура,
|	РеализацияТоваровУслугТовары.Количество КАК КоличествоПоставляемое,
|	РеализацияТоваровУслугТовары.СтавкаНДС КАК СтавкаНДС,
|	РеализацияТоваровУслугТовары.Цена КАК Цена,
|	РеализацияТоваровУслугТовары.Сумма КАК Сумма
|ПОМЕСТИТЬ втРеализация
|ИЗ
|	Документ.РеализацияТоваровУслуг.Товары КАК РеализацияТоваровУслугТовары
|ГДЕ
|	РеализацияТоваровУслугТовары.Ссылка В(&amp;Документ)
|	И РеализацияТоваровУслугТовары.Номенклатура &lt;&gt; &amp;ВидТара
|;
|
|////////////////////////////////////////////////////////////////////////////////
|ВЫБРАТЬ
|	втЭКОМ.Ссылка КАК Ссылка,
|	втЭКОМ.НомерСтроки КАК НомерСтроки,
|	втЭКОМ.PRODUCTIDSUPPLIER КАК PRODUCTIDSUPPLIER,
|	ЕСТЬNULL(втРеализация.КоличествоПоставляемое, 0) КАК КоличествоПоставляемое,
|	втЭКОМ.КоличесвоЗаказанное КАК КоличесвоЗаказанное,
|	втЭКОМ.ORDERUNIT КАК ORDERUNIT,
|	втЭКОМ.DELIVEREDUNIT КАК DELIVEREDUNIT,
|	втЭКОМ.СуммаВключаетНДС КАК СуммаВключаетНДС,
|	втЭКОМ.Номенклатура КАК Номенклатура,
|	втЭКОМ.ШтрихКодНоменклатурыКонтрагента КАК ШтрихКодНоменклатурыКонтрагента,
|	ЕСТЬNULL(втРеализация.СтавкаНДС, втЭКОМ.СтавкаНДС) КАК СтавкаНДС,
|	ЕСТЬNULL(втРеализация.Цена, втЭКОМ.Цена) КАК Цена,
|	ЕСТЬNULL(втРеализация.Сумма, втЭКОМ.Сумма) КАК Сумма,
|	втЭКОМ.PRODUCT КАК PRODUCT,
|	втЭКОМ.PRODUCTIDBUYER КАК PRODUCTIDBUYER,
|	втЭКОМ.DESCRIPTION КАК DESCRIPTION,
|	втЭКОМ.ТипФасовки КАК ТипФасовки,
|	втЭКОМ.КалибрУпаковки КАК КалибрУпаковки,
|	втЭКОМ.КоличествоВФасовке КАК КоличествоВФасовке,
|	втЭКОМ.БазоваяЕдиницаТовара КАК БазоваяЕдиницаТовара
|ИЗ
|	втЭКОМ КАК втЭКОМ
|		ЛЕВОЕ СОЕДИНЕНИЕ втРеализация КАК втРеализация
|		ПО втЭКОМ.Номенклатура = втРеализация.Номенклатура
|			И втЭКОМ.Накладная = втРеализация.Ссылка";
Запрос.УстановитьПараметр("Документ", Источник);
Запрос.УстановитьПараметр("ВидТара", Справочники.ВидыНоменклатуры.НайтиПоНаименованию("Тара"));

РезультатЗапроса = Запрос.Выполнить();
Результат = РезультатЗапроса.Выгрузить();

Результат.Колонки.Добавить("POSITIONNUMBER");
Результат.Колонки.Добавить("ORDEREDQUANTITY");
Результат.Колонки.Добавить("DELIVEREDQUANTITY");
Результат.Колонки.Добавить("PRICE");
Результат.Колонки.Добавить("PRICEWITHVAT");
Результат.Колонки.Добавить("AMOUNT");
Результат.Колонки.Добавить("AMOUNTWITHVAT");
Результат.Колонки.Добавить("TAXRATE");
Результат.Колонки.Добавить("CALIBRE",         Новый ОписаниеТипов("Строка"));
Результат.Колонки.Добавить("PACKINGTYPE",     Новый ОписаниеТипов("Строка"));
Результат.Колонки.Добавить("PACKINGQUANTITY", Новый ОписаниеТипов("Строка"));
Результат.Колонки.Добавить("PACKINGUNIT",     Новый ОписаниеТипов("Строка"));

// Список для преобразования числа в строку: Значение – реквизит в результате; Представление - путь, где хранится число;
// Пометка при Истина усекает число до целых, а Ложь - 2 знака в дробной части
ЧислоВСтроку = Новый СписокЗначений;
ЧислоВСтроку.Добавить("POSITIONNUMBER", "Строка.НомерСтроки", Истина);
ЧислоВСтроку.Добавить("PRICE", "ЦенаБезНДС");
ЧислоВСтроку.Добавить("PRICEWITHVAT", "Цена_с_НДС");
ЧислоВСтроку.Добавить("AMOUNT", "СуммаБезНДС");
ЧислоВСтроку.Добавить("AMOUNTWITHVAT", "Сумма_с_НДС");
ЧислоВСтроку.Добавить("TAXRATE", "СтавкаНДС", Истина);

Для Каждого Строка Из Результат Цикл
	
	Если ТипЗнч(Строка.СтавкаНДС) = Тип("Число") Тогда
		СтавкаНДС = Строка.СтавкаНДС;
	Иначе
    	СтавкаНДС = СтавкаНДСЧислом(Строка.СтавкаНДС);
	КонецЕсли;
	
    Если Строка.СуммаВключаетНДС Тогда
        Цена_с_НДС	= Строка.Цена;
        ЦенаБезНДС	= Строка.Цена/((100 + СтавкаНДС)/100);
        Сумма_с_НДС = Строка.Сумма;
        СуммаБезНДС = Строка.Сумма/((100 + СтавкаНДС)/100);
    Иначе    
        ЦенаБезНДС	= Строка.Цена;
        Цена_с_НДС	= Строка.Цена * ((100 + СтавкаНДС)/100);
        СуммаБезНДС = Строка.Сумма;
        Сумма_с_НДС = Строка.Сумма * ((100 + СтавкаНДС)/100);
    КонецЕсли;

    // Преобразование числа в строку и заполнение значения.
    Для Каждого ЗаписьЧислоВСтроку Из ЧислоВСтроку Цикл
        ЗначениеЧисла = Вычислить(ЗаписьЧислоВСтроку.Представление);
        ЗначениеСтрокой = Окр(ЗначениеЧисла, ?(ЗаписьЧислоВСтроку.Пометка, 0, 2));
        Если НЕ ЗаписьЧислоВСтроку.Пометка Тогда
            ЗначениеСтрокой = Формат(ЗначениеСтрокой, "ЧДЦ=2; ЧРД=.; ЧГ=0; ЧН=0.00");
        КонецЕсли;
        Строка[ЗаписьЧислоВСтроку.Значение] = ЗначениеСтрокой;
    КонецЦикла;
    
    Строка.CALIBRE          = Строка.КалибрУпаковки;
	Строка.PACKINGTYPE      = Строка.ТипФасовки;
	Строка.PACKINGQUANTITY  = Формат(Строка.КоличествоВФасовке, "ЧДЦ=2; ЧРД=.; ЧГ=0");
	Строка.PACKINGUNIT      = Строка.БазоваяЕдиницаТовара;	
	
	Строка.ORDEREDQUANTITY 	 = Формат(Строка.КоличесвоЗаказанное, "ЧДЦ=3; ЧРД=.; ЧГ=0; ЧН=");
	Строка.DELIVEREDQUANTITY = Формат(Строка.КоличествоПоставляемое, "ЧДЦ=3; ЧРД=.; ЧГ=0; ЧН=");

КонецЦикла;

Возврат Результат;</Value>
					<Value xsi:type="xs:boolean">true</Value>
					<Value xsi:type="ValueListType">
						<valueType/>
						<lastId xsi:type="xs:decimal">-1</lastId>
					</Value>
					<Value xsi:nil="true"/>
					<Value xsi:type="ValueListType">
						<valueType/>
						<lastId xsi:type="xs:decimal">3</lastId>
						<item>
							<value xsi:type="xs:string">Документ.Ссылка</value>
							<presentation>POSITION.Ссылка</presentation>
							<id xsi:type="xs:decimal">3</id>
						</item>
					</Value>
					<Value xsi:type="xs:decimal">0</Value>
					<Value xsi:type="xs:decimal">0</Value>
					<Value xsi:type="ValueTable"/>
					<Value xsi:type="ValueListType">
						<valueType/>
						<lastId xsi:type="xs:decimal">31</lastId>
						<item>
							<value xsi:type="xs:string">Ссылка</value>
							<id xsi:type="xs:decimal">0</id>
						</item>
						<item>
							<value xsi:type="xs:string">НомерСтроки</value>
							<id xsi:type="xs:decimal">1</id>
						</item>
						<item>
							<value xsi:type="xs:string">PRODUCTIDSUPPLIER</value>
							<id xsi:type="xs:decimal">2</id>
						</item>
						<item>
							<value xsi:type="xs:string">КоличествоПоставляемое</value>
							<id xsi:type="xs:decimal">3</id>
						</item>
						<item>
							<value xsi:type="xs:string">КоличесвоЗаказанное</value>
							<id xsi:type="xs:decimal">4</id>
						</item>
						<item>
							<value xsi:type="xs:string">ORDERUNIT</value>
							<id xsi:type="xs:decimal">5</id>
						</item>
						<item>
							<value xsi:type="xs:string">DELIVEREDUNIT</value>
							<id xsi:type="xs:decimal">6</id>
						</item>
						<item>
							<value xsi:type="xs:string">СуммаВключаетНДС</value>
							<id xsi:type="xs:decimal">7</id>
						</item>
						<item>
							<value xsi:type="xs:string">Номенклатура</value>
							<id xsi:type="xs:decimal">8</id>
						</item>
						<item>
							<value xsi:type="xs:string">ШтрихКодНоменклатурыКонтрагента</value>
							<id xsi:type="xs:decimal">9</id>
						</item>
						<item>
							<value xsi:type="xs:string">СтавкаНДС</value>
							<id xsi:type="xs:decimal">10</id>
						</item>
						<item>
							<value xsi:type="xs:string">Цена</value>
							<id xsi:type="xs:decimal">11</id>
						</item>
						<item>
							<value xsi:type="xs:string">Сумма</value>
							<id xsi:type="xs:decimal">12</id>
						</item>
						<item>
							<value xsi:type="xs:string">PRODUCT</value>
							<id xsi:type="xs:decimal">13</id>
						</item>
						<item>
							<value xsi:type="xs:string">PRODUCTIDBUYER</value>
							<id xsi:type="xs:decimal">14</id>
						</item>
						<item>
							<value xsi:type="xs:string">DESCRIPTION</value>
							<id xsi:type="xs:decimal">15</id>
						</item>
						<item>
							<value xsi:type="xs:string">ТипФасовки</value>
							<id xsi:type="xs:decimal">16</id>
						</item>
						<item>
							<value xsi:type="xs:string">КалибрУпаковки</value>
							<id xsi:type="xs:decimal">17</id>
						</item>
						<item>
							<value xsi:type="xs:string">КоличествоВФасовке</value>
							<id xsi:type="xs:decimal">18</id>
						</item>
						<item>
							<value xsi:type="xs:string">БазоваяЕдиницаТовара</value>
							<id xsi:type="xs:decimal">19</id>
						</item>
						<item>
							<value xsi:type="xs:string">POSITIONNUMBER</value>
							<id xsi:type="xs:decimal">20</id>
						</item>
						<item>
							<value xsi:type="xs:string">ORDEREDQUANTITY</value>
							<id xsi:type="xs:decimal">21</id>
						</item>
						<item>
							<value xsi:type="xs:string">DELIVEREDQUANTITY</value>
							<id xsi:type="xs:decimal">22</id>
						</item>
						<item>
							<value xsi:type="xs:string">PRICE</value>
							<id xsi:type="xs:decimal">23</id>
						</item>
						<item>
							<value xsi:type="xs:string">PRICEWITHVAT</value>
							<id xsi:type="xs:decimal">24</id>
						</item>
						<item>
							<value xsi:type="xs:string">AMOUNT</value>
							<id xsi:type="xs:decimal">25</id>
						</item>
						<item>
							<value xsi:type="xs:string">AMOUNTWITHVAT</value>
							<id xsi:type="xs:decimal">26</id>
						</item>
						<item>
							<value xsi:type="xs:string">TAXRATE</value>
							<id xsi:type="xs:decimal">27</id>
						</item>
						<item>
							<value xsi:type="xs:string">CALIBRE</value>
							<id xsi:type="xs:decimal">28</id>
						</item>
						<item>
							<value xsi:type="xs:string">PACKINGTYPE</value>
							<id xsi:type="xs:decimal">29</id>
						</item>
						<item>
							<value xsi:type="xs:string">PACKINGQUANTITY</value>
							<id xsi:type="xs:decimal">30</id>
						</item>
						<item>
							<value xsi:type="xs:string">PACKINGUNIT</value>
							<id xsi:type="xs:decimal">31</id>
						</item>
					</Value>
					<Value xsi:type="ValueListType">
						<valueType/>
						<lastId xsi:type="xs:decimal">-1</lastId>
					</Value>
				</row>
				<Value xsi:type="xs:boolean">true</Value>
				<Value xsi:type="xs:string"/>
				<Value xsi:type="xs:string"/>
				<Value xsi:type="xs:string"/>
				<Value xsi:type="xs:string">PACKINGSEQUENCE</Value>
				<Value xsi:type="xs:string"/>
				<Value xsi:type="xs:boolean">true</Value>
				<Value xsi:type="ValueListType">
					<valueType/>
					<lastId xsi:type="xs:decimal">-1</lastId>
				</Value>
				<Value xsi:nil="true"/>
				<Value xsi:type="ValueListType">
					<valueType/>
					<lastId xsi:type="xs:decimal">-1</lastId>
				</Value>
				<Value xsi:type="xs:decimal">0</Value>
				<Value xsi:type="xs:decimal">0</Value>
				<Value xsi:type="ValueTable"/>
				<Value xsi:type="ValueListType">
					<valueType/>
					<lastId xsi:type="xs:decimal">-1</lastId>
				</Value>
				<Value xsi:type="ValueListType">
					<valueType/>
					<lastId xsi:type="xs:decimal">-1</lastId>
				</Value>
			</row>
			<Value xsi:type="xs:boolean">true</Value>
			<Value xsi:type="xs:string"/>
			<Value xsi:type="xs:string"/>
			<Value xsi:type="xs:string"/>
			<Value xsi:type="xs:string">HEAD</Value>
			<Value xsi:type="xs:string"/>
			<Value xsi:type="xs:boolean">false</Value>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
			<Value xsi:nil="true"/>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
			<Value xsi:type="xs:decimal">0</Value>
			<Value xsi:type="xs:decimal">0</Value>
			<Value xsi:type="ValueTable"/>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
		</row>
		<Value xsi:type="xs:boolean">true</Value>
		<Value xsi:type="xs:string">Исходящий DESADV (подтверждение отгрузки)</Value>
		<Value xsi:type="xs:string">Уведомление об отгрузке (DESADV)</Value>
		<Value xsi:type="xs:string">Накладная_Исходящая</Value>
		<Value xsi:type="xs:string">DESADV</Value>
		<Value xsi:type="xs:string">//ВидДокументаПриемника = ПредопределенноеЗначение("Перечисление.ЭКОМ_ВидыДокументов.DESADV_Исходящий");

Запрос = Новый Запрос;
Запрос.Текст = "ВЫБРАТЬ
               |	ВложенныйЗапрос_Накладная.Накладаная КАК Накладаная,
               |	ВложенныйЗапрос_Накладная.НакладнаяНомер КАК НакладнаяНомер,
               |	ВложенныйЗапрос_Накладная.НакладнаяДата КАК НакладнаяДата,
               |	ВложенныйЗапрос_ORDER.ORDER КАК ORDER,
               |	ВложенныйЗапрос_ORDER.ORDERDATE КАК ORDERDATE,
               |	ВложенныйЗапрос_ORDER.ORDERNUMBER КАК ORDERNUMBER,
               |	ВложенныйЗапрос_ORDER.CAMPAIGNNUMBER КАК CAMPAIGNNUMBER,
               |	ВложенныйЗапрос_ORDER.xmlОрганизация КАК xmlОрганизация,
               |	ВложенныйЗапрос_ORDER.xmlКонтрагент КАК xmlКонтрагент,
               |	ВложенныйЗапрос_ORDER.xmlТочкаДоставки КАК xmlТочкаДоставки,
               |	ВложенныйЗапрос_ORDER.Организация КАК Организация,
               |	ВложенныйЗапрос_ORDER.Контрагент КАК Контрагент,
               |	ВложенныйЗапрос_ORDER.ИдентификаторЦепочки КАК ИдентификаторЦепочки
               |ПОМЕСТИТЬ ВТ_ЦепочкаДокументов
               |ИЗ
               |	(ВЫБРАТЬ
               |		DR_События.Документ КАК Накладаная,
               |		ВЫРАЗИТЬ(DR_События.Документ КАК Документ.РеализацияТоваровУслуг).Номер КАК НакладнаяНомер,
               |		ВЫРАЗИТЬ(DR_События.Документ КАК Документ.РеализацияТоваровУслуг).Дата КАК НакладнаяДата,
               |		DR_События.ИдентификаторЦепочки КАК ИдентификаторЦепочки
               |	ИЗ
               |		РегистрСведений.DR_События КАК DR_События
               |	ГДЕ
               |		DR_События.Документ В(&amp;Документ)
               |		И DR_События.Документ ССЫЛКА Документ.РеализацияТоваровУслуг) КАК ВложенныйЗапрос_Накладная
               |		ВНУТРЕННЕЕ СОЕДИНЕНИЕ (ВЫБРАТЬ
               |			DR_События.Документ КАК ORDER,
               |			ВЫРАЗИТЬ(DR_События.Документ КАК Документ.ЭКОМ_Документы).ЗаказДата КАК ORDERDATE,
               |			ВЫРАЗИТЬ(DR_События.Документ КАК Документ.ЭКОМ_Документы).ЗаказНомер КАК ORDERNUMBER,
               |			ВЫРАЗИТЬ(DR_События.Документ КАК Документ.ЭКОМ_Документы).НомерДоговораНаПоставку КАК CAMPAIGNNUMBER,
               |			ВЫРАЗИТЬ(DR_События.Документ КАК Документ.ЭКОМ_Документы).xmlОрганизация КАК xmlОрганизация,
               |			ВЫРАЗИТЬ(DR_События.Документ КАК Документ.ЭКОМ_Документы).xmlКонтрагент КАК xmlКонтрагент,
               |			ВЫРАЗИТЬ(DR_События.Документ КАК Документ.ЭКОМ_Документы).xmlТочкаДоставки КАК xmlТочкаДоставки,
               |			ВЫРАЗИТЬ(DR_События.Документ КАК Документ.ЭКОМ_Документы).Организация КАК Организация,
               |			ВЫРАЗИТЬ(DR_События.Документ КАК Документ.ЭКОМ_Документы).Контрагент КАК Контрагент,
               |			DR_События.ИдентификаторЦепочки КАК ИдентификаторЦепочки
               |		ИЗ
               |			РегистрСведений.DR_События КАК DR_События
               |		ГДЕ
               |			DR_События.ВидДокумента = ЗНАЧЕНИЕ(Перечисление.ЭКОМ_ВидыДокументов.ORDER_Входящий)
               |			И DR_События.Документ ССЫЛКА Документ.ЭКОМ_Документы) КАК ВложенныйЗапрос_ORDER
               |		ПО (ВложенныйЗапрос_Накладная.ИдентификаторЦепочки = ВложенныйЗапрос_ORDER.ИдентификаторЦепочки)
               |;
               |
               |////////////////////////////////////////////////////////////////////////////////
               |ВЫБРАТЬ
               |	ВТ_ЦепочкаДокументов.Накладаная КАК Ссылка,
               |	ВТ_ЦепочкаДокументов.НакладнаяНомер КАК Номер,
               |	ВТ_ЦепочкаДокументов.НакладнаяНомер КАК NUMBER,
               |	ВТ_ЦепочкаДокументов.НакладнаяНомер КАК DELIVERYNOTENUMBER,
               |	ВТ_ЦепочкаДокументов.НакладнаяНомер КАК WAYBILLNUMBER,
               |	ВТ_ЦепочкаДокументов.НакладнаяДата КАК DATE_Знач,
               |	ВЫРАЗИТЬ("""" КАК СТРОКА(20)) КАК DATE,
               |	ВЫРАЗИТЬ("""" КАК СТРОКА(20)) КАК DELIVERYDATE,
               |	ВЫРАЗИТЬ("""" КАК СТРОКА(20)) КАК DELIVERYNOTEDATE,
               |	ВЫРАЗИТЬ("""" КАК СТРОКА(20)) КАК WAYBILLDATE,
               |	ВТ_ЦепочкаДокументов.ORDERNUMBER КАК ORDERNUMBER,
               |	ВТ_ЦепочкаДокументов.ORDERNUMBER КАК ЗаказНомер,
               |	ВТ_ЦепочкаДокументов.ORDERDATE КАК ЗаказДата,
               |	ВЫРАЗИТЬ("""" КАК СТРОКА(20)) КАК ORDERDATE,
               |	ВТ_ЦепочкаДокументов.CAMPAIGNNUMBER КАК CAMPAIGNNUMBER,
               |	ВТ_ЦепочкаДокументов.xmlОрганизация КАК SUPPLIER,
               |	ВТ_ЦепочкаДокументов.xmlОрганизация КАК SENDER,
               |	ВТ_ЦепочкаДокументов.xmlКонтрагент КАК BUYER,
               |	ВТ_ЦепочкаДокументов.xmlКонтрагент КАК RECIPIENT,
               |	ВТ_ЦепочкаДокументов.xmlТочкаДоставки КАК DELIVERYPLACE,
               |	""O"" КАК DOCTYPE,
               |	ВЫРАЗИТЬ("""" КАК СТРОКА(300)) КАК EDIMESSAGE,
               |	ВЫРАЗИТЬ("""" КАК СТРОКА(20)) КАК EDIINTERCHANGEID,
               |	ВТ_ЦепочкаДокументов.Организация КАК Организация,
               |	ВТ_ЦепочкаДокументов.Контрагент КАК Контрагент,
               |	ВЫРАЗИТЬ("""" КАК СТРОКА(300)) КАК ФайлИмя,
               |	ВЫРАЗИТЬ("""" КАК СТРОКА(300)) КАК Идентификатор,
               |	ЗНАЧЕНИЕ(Перечисление.ЭКОМ_Статусы.Отправлен) КАК Статус,
               |	ВТ_ЦепочкаДокументов.ORDER КАК ЭлектронныйДокумент,
               |	""DESADV"" КАК ВидДокумента,
               |	""1"" КАК HIERARCHICALID,
               |	ЭКОМ_Объекты_СобытияORDER.СтруктураФайла КАК СтруктураФайлаORDER,
               |	ВТ_ЦепочкаДокументов.ИдентификаторЦепочки КАК ИдентификаторЦепочки
               |ИЗ
               |	ВТ_ЦепочкаДокументов КАК ВТ_ЦепочкаДокументов
               |		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.ЭКОМ_Объекты_События КАК ЭКОМ_Объекты_СобытияORDER
               |		ПО (ВТ_ЦепочкаДокументов.ORDER = ЭКОМ_Объекты_СобытияORDER.Документ_Основание)
               |			И (ЭКОМ_Объекты_СобытияORDER.ВидДокумента = ЗНАЧЕНИЕ(Перечисление.ЭКОМ_ВидыДокументов.ORDER_Входящий))";
Запрос.УстановитьПараметр("Документ", Источник);
РезультатЗапроса = Запрос.Выполнить(); 
Результат = РезультатЗапроса.Выгрузить();
Результат.Колонки.Добавить("FRESH", Новый ОписаниеТипов("Строка"));

EDIINTERCHANGEID = 0;

СтрокиДляУдаления     = Новый Массив;
ДокументРеализации     = Неопределено;

ДатуВСтроку = Новый Соответствие;
ДатуВСтроку.Вставить("DATE", "Строка.DATE_Знач");
ДатуВСтроку.Вставить("DELIVERYDATE", "Строка.DATE_Знач");
ДатуВСтроку.Вставить("DELIVERYNOTEDATE", "Строка.DATE_Знач");
ДатуВСтроку.Вставить("WAYBILLDATE", "Строка.DATE_Знач");
ДатуВСтроку.Вставить("ORDERDATE", "Строка.ЗаказДата");

Для Каждого Строка Из Результат Цикл

    Если ДокументРеализации = Строка.Ссылка Тогда
        СтрокиДляУдаления.Добавить(Строка);
        Продолжить;
    КонецЕсли;
    ДокументРеализации = Строка.Ссылка;

     // Преобразование даты в строку и заполнение значения.
    Для Каждого ЗаписьДатуВСтроку Из ДатуВСтроку Цикл
        Строка[ЗаписьДатуВСтроку.Ключ] = Формат(Вычислить(ЗаписьДатуВСтроку.Значение), "ДФ=""гггг-ММ-дд""");
    КонецЦикла;

    EDIINTERCHANGEID = НовыйНомерТранзакции(EDIINTERCHANGEID);
    Строка.EDIINTERCHANGEID = Формат(EDIINTERCHANGEID, "ЧГ=0");

    // EDIMESSAGE.
    ГСЧ                   = Новый ГенераторСлучайныхЧисел;
    СлучЧисло             = ГСЧ.СлучайноеЧисло(100, 999);
    Строка.EDIMESSAGE       = Формат(ТекущаяДата(), "ДФ=ггггММддЧЧммсс000") + СлучЧисло + "-OUT-" + Строка.EDIINTERCHANGEID;

    Строка.ФайлИмя           = Строка.ВидДокумента + "_" + Строка.EDIMESSAGE + ".xml";
    Строка.Идентификатор     = Строка.ВидДокумента + "_" + Строка.EDIMESSAGE;

    FRESH = "0";  // 1 - Да 0 - Нет
	Если ТипЗнч(Строка.СтруктураФайлаORDER) = Тип("ХранилищеЗначения")  Тогда
	     СтруктураФайла = Строка.СтруктураФайлаORDER.Получить();
		 Если СтруктураФайла.Свойство("FRESH") = Истина Тогда
		      FRESH = СтруктураФайла.FRESH; 
		 КонецЕсли;
	КонецЕсли;
	Строка.FRESH = FRESH;

    // СокрЛП для всех строк.
    Для Каждого Колонка Из Результат.Колонки Цикл
        Если ТипЗнч(Строка[Колонка.Имя]) = Тип("Строка") Тогда
            Строка[Колонка.Имя] = СокрЛП(Строка[Колонка.Имя]);
        КонецЕсли;
    КонецЦикла;

КонецЦикла;

Для Каждого Строка Из СтрокиДляУдаления Цикл
    Результат.Удалить(Строка);
КонецЦикла;

Возврат Результат;</Value>
		<Value xsi:type="xs:boolean">true</Value>
		<Value xsi:type="ValueListType">
			<valueType/>
			<lastId xsi:type="xs:decimal">-1</lastId>
		</Value>
		<Value xsi:type="Structure">
			<Property name="ВидДокумента">
				<Value xsi:type="xs:string">Документ.ВидДокумента</Value>
			</Property>
			<Property name="ЗаказДата">
				<Value xsi:type="xs:string">Документ.ЗаказДата</Value>
			</Property>
			<Property name="ЗаказНомер">
				<Value xsi:type="xs:string">Документ.ЗаказНомер</Value>
			</Property>
			<Property name="Идентификатор">
				<Value xsi:type="xs:string">Документ.Идентификатор</Value>
			</Property>
			<Property name="ИдентификаторИспр">
				<Value xsi:nil="true"/>
			</Property>
			<Property name="Контрагент">
				<Value xsi:type="xs:string">Документ.Контрагент</Value>
			</Property>
			<Property name="Номер">
				<Value xsi:type="xs:string">Документ.Номер</Value>
			</Property>
			<Property name="Организация">
				<Value xsi:type="xs:string">Документ.Организация</Value>
			</Property>
			<Property name="Ссылка">
				<Value xsi:type="xs:string">Документ.Ссылка</Value>
			</Property>
			<Property name="Статус">
				<Value xsi:type="xs:string">Документ.Статус</Value>
			</Property>
			<Property name="ФайлИмя">
				<Value xsi:type="xs:string">Документ.ФайлИмя</Value>
			</Property>
			<Property name="ЭлектронныйДокумент">
				<Value xsi:type="xs:string">Документ.ЭлектронныйДокумент</Value>
			</Property>
			<Property name="ИдентификаторЦепочки">
				<Value xsi:type="xs:string">Документ.ИдентификаторЦепочки</Value>
			</Property>
		</Value>
		<Value xsi:type="ValueListType">
			<valueType/>
			<lastId xsi:type="xs:decimal">-1</lastId>
		</Value>
		<Value xsi:type="xs:decimal">0</Value>
		<Value xsi:type="xs:decimal">0</Value>
		<Value xsi:type="ValueTable"/>
		<Value xsi:type="ValueListType">
			<valueType/>
			<lastId xsi:type="xs:decimal">33</lastId>
			<item>
				<value xsi:type="xs:string">Ссылка</value>
				<id xsi:type="xs:decimal">0</id>
			</item>
			<item>
				<value xsi:type="xs:string">Номер</value>
				<id xsi:type="xs:decimal">1</id>
			</item>
			<item>
				<value xsi:type="xs:string">NUMBER</value>
				<id xsi:type="xs:decimal">2</id>
			</item>
			<item>
				<value xsi:type="xs:string">DELIVERYNOTENUMBER</value>
				<id xsi:type="xs:decimal">3</id>
			</item>
			<item>
				<value xsi:type="xs:string">WAYBILLNUMBER</value>
				<id xsi:type="xs:decimal">4</id>
			</item>
			<item>
				<value xsi:type="xs:string">DATE_Знач</value>
				<id xsi:type="xs:decimal">5</id>
			</item>
			<item>
				<value xsi:type="xs:string">DATE</value>
				<id xsi:type="xs:decimal">6</id>
			</item>
			<item>
				<value xsi:type="xs:string">DELIVERYDATE</value>
				<id xsi:type="xs:decimal">7</id>
			</item>
			<item>
				<value xsi:type="xs:string">DELIVERYNOTEDATE</value>
				<id xsi:type="xs:decimal">8</id>
			</item>
			<item>
				<value xsi:type="xs:string">WAYBILLDATE</value>
				<id xsi:type="xs:decimal">9</id>
			</item>
			<item>
				<value xsi:type="xs:string">ORDERNUMBER</value>
				<id xsi:type="xs:decimal">10</id>
			</item>
			<item>
				<value xsi:type="xs:string">ЗаказНомер</value>
				<id xsi:type="xs:decimal">11</id>
			</item>
			<item>
				<value xsi:type="xs:string">ЗаказДата</value>
				<id xsi:type="xs:decimal">12</id>
			</item>
			<item>
				<value xsi:type="xs:string">ORDERDATE</value>
				<id xsi:type="xs:decimal">13</id>
			</item>
			<item>
				<value xsi:type="xs:string">CAMPAIGNNUMBER</value>
				<id xsi:type="xs:decimal">14</id>
			</item>
			<item>
				<value xsi:type="xs:string">SUPPLIER</value>
				<id xsi:type="xs:decimal">15</id>
			</item>
			<item>
				<value xsi:type="xs:string">SENDER</value>
				<id xsi:type="xs:decimal">16</id>
			</item>
			<item>
				<value xsi:type="xs:string">BUYER</value>
				<id xsi:type="xs:decimal">17</id>
			</item>
			<item>
				<value xsi:type="xs:string">RECIPIENT</value>
				<id xsi:type="xs:decimal">18</id>
			</item>
			<item>
				<value xsi:type="xs:string">DELIVERYPLACE</value>
				<id xsi:type="xs:decimal">19</id>
			</item>
			<item>
				<value xsi:type="xs:string">DOCTYPE</value>
				<id xsi:type="xs:decimal">20</id>
			</item>
			<item>
				<value xsi:type="xs:string">EDIMESSAGE</value>
				<id xsi:type="xs:decimal">21</id>
			</item>
			<item>
				<value xsi:type="xs:string">EDIINTERCHANGEID</value>
				<id xsi:type="xs:decimal">22</id>
			</item>
			<item>
				<value xsi:type="xs:string">Организация</value>
				<id xsi:type="xs:decimal">23</id>
			</item>
			<item>
				<value xsi:type="xs:string">Контрагент</value>
				<id xsi:type="xs:decimal">24</id>
			</item>
			<item>
				<value xsi:type="xs:string">ФайлИмя</value>
				<id xsi:type="xs:decimal">25</id>
			</item>
			<item>
				<value xsi:type="xs:string">Идентификатор</value>
				<id xsi:type="xs:decimal">26</id>
			</item>
			<item>
				<value xsi:type="xs:string">Статус</value>
				<id xsi:type="xs:decimal">27</id>
			</item>
			<item>
				<value xsi:type="xs:string">ЭлектронныйДокумент</value>
				<id xsi:type="xs:decimal">28</id>
			</item>
			<item>
				<value xsi:type="xs:string">ВидДокумента</value>
				<id xsi:type="xs:decimal">29</id>
			</item>
			<item>
				<value xsi:type="xs:string">HIERARCHICALID</value>
				<id xsi:type="xs:decimal">30</id>
			</item>
			<item>
				<value xsi:type="xs:string">СтруктураФайлаORDER</value>
				<id xsi:type="xs:decimal">31</id>
			</item>
			<item>
				<value xsi:type="xs:string">ИдентификаторЦепочки</value>
				<id xsi:type="xs:decimal">32</id>
			</item>
			<item>
				<value xsi:type="xs:string">FRESH</value>
				<id xsi:type="xs:decimal">33</id>
			</item>
		</Value>
		<Value xsi:type="ValueListType">
			<valueType/>
			<lastId xsi:type="xs:decimal">3</lastId>
			<item>
				<value xsi:type="xs:string">ИмяКнопки</value>
				<presentation>Уведомление об отгрузке (DESADV)</presentation>
				<checkState>1</checkState>
				<id xsi:type="xs:decimal">0</id>
			</item>
			<item>
				<value xsi:type="xs:string">Покупатель</value>
				<id xsi:type="xs:decimal">1</id>
			</item>
			<item>
				<value xsi:type="xs:string">Поставщик</value>
				<checkState>1</checkState>
				<id xsi:type="xs:decimal">2</id>
			</item>
			<item>
				<value xsi:type="xs:string">ЭТРН</value>
				<id xsi:type="xs:decimal">3</id>
			</item>
		</Value>
	</row>
</ValueTree>